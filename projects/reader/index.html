<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/styles/main.css?v=2" />
    <link href="https://mastodon.spotek.io/@dustin" rel="me" />
    <link href="https://defcon.social/@dstn" rel="me" />
    <link href="https://toki.social/@0xdstn" rel="me" />
    <title>Reader | 0xdstn</title>
  </head>
  <body>
    <header>
      <a href="/">0xdstn</a>
      <a href="/hello">hello</a>
      <a href="/writing">writing</a>
      <a href="/thoughts">thoughts</a>
      <a href="/books">reading</a>
      <a href="/feeds">feeds</a>
    </header>
	<article>
<a href="/projects">..</a><h1><span class="emoji">&#128187;</span> Reader</h1><p>I decided to move away from Pocket for saving articles to read later, and instead build my own little app. This is by no means top quality coding, it was thrown together to solve a problem.</p><p>This requires PHP and python to run.</p><p><strong>Source code:</strong> <a href="https://github.com/0xdstn/reader" target="_blank">https://github.com/0xdstn/reader</a></p><h2 id="Setup">Setup</h2><p>Place the contents of the repo in a directory called <strong>reader</strong> inside your root web directory (such as <strong>/var/www/html/reader</strong>).</p><p>Create a <code>key.txt</code> file one directory up from your root web directory (such as <strong>/var/www</strong>). <em>This should not be accessible via a browser.</em></p><p>Create an <code>articles</code> directory in the reader directory.</p><p>Create a <code>data.txt</code> file in the reader directory.</p><p>Set up a cron job for the scraper. I have it set up to run every hour like so:</p><pre>0 * * * * cd /var/www/html/reader && ./scrape.py >/dev/null 2>&1<br></pre><p>The cron job takes any URL that hasn't been scraped in <code>data.txt</code>, pulls the title and the contents for it via web scraping, updates <code>data.txt</code> with the title, and generates an HTML file of the contents in the <code>articles</code> directory.</p><h2 id="Pocket import">Pocket import</h2><p>I transitioned from Pocket to this, so I made a pocket import script.</p><p>To use it, go to Pocket and export your links as an HTML file. Place that in the reader directory. It should be called <code>ril_export.html</code>.</p><p>You then should just need to run the <code>pocket-import.py</code> file and it will convert the HTML export into entries in <code>data.txt</code>.</p><h2 id="Usage">Usage</h2><p>Navigating to the <strong>/reader?key=YOURKEY</strong> directory on your webserver will display a list of articles from <code>data.txt</code>. Replace <strong>YOURKEY</strong> with the contents of the <code>key.txt</code> file. If the title has been scraped it will display that and link to the local HTML file for it. If it has not yet been scraped, it will display the URL and link out to that.</p><p>You can click <strong>Add article</strong>, which will give you a box to fill in a URL and a submit button. This adds the provided URL to <code>data.txt</code>.</p><p>When reading a local HTML article, there is a <strong>mark read</strong> link at the top and bottom which you can click to mark it as read, removing it from the list on the index page.</p><p>This app is really light weight, so it works well in the web browser of a kindle.</p><blockquote class="thanks"> <span class="emoji">&#128075;</span> Hey! Thanks for reading! If you have any comments or questions about this post, or anything else, I'd love to chat! You can find the best way to contact me on my <a href="/hello">hello page</a> or send me an <a href="mailto:0xdstn@protonmail.com?subject=RE: Reader">email</a>.</blockquote>		</article>
		<footer>
			<p>
			<a href="https://webring.xxiivv.com/#random" target="_blank" class="webring">
				<img src="https://webring.xxiivv.com/icon.black.svg" alt="webring"/>
			</a>
			</p>
		</footer>
	</body>
</html>

