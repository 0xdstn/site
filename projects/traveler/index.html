<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/~dustin/assets/styles/main.css?v=2" />
    <link href="https://mastodon.spotek.io/@dustin" rel="me" />
    <link href="https://toki.social/@0xdstn" rel="me" />
    <title>The Traveler | Dustin</title>
  </head>
  <body>
    <header>
      <a href="/~dustin/">~dustin</a>
      <a href="/~dustin/hello">hello</a>
      <a href="/~dustin/writing">writing</a>
      <a href="/~dustin/wiki/library">reading</a>
      <a href="/~dustin/feeds">feeds</a>
    </header>
	<article>
<a href="/~dustin/projects">..</a><h1><span class="emoji">&#128187;</span> The Traveler</h1><p>A flat-file interactive fiction system that runs in the browser. It is a spiritual successor to <a href="/~dustin/projects/tilde-world">tilde world</a>.</p><p>If you have created world with the traveler, I'd love to see it! I could even include it in the game source for others to play if you're interested in that.</p><p>I will probably create my own worlds at some point, which will be available to load and play.</p><p><strong>Source code:</strong> <a href="https://github.com/0xdstn/traveler" target="_blank">https://github.com/0xdstn/traveler</a></p><p><strong>Live version:</strong> <a href="https://tilde.town/~dustin/traveler/" target="_blank">https://tilde.town/~dustin/traveler/</a></p><ol><li><a href="#Description">Description</a></li><li><a href="#Game commands">Game commands</a></li><li><a href="#World creation">World creation</a></li><li><a href="#Release notes">Release notes</a></li></ol><h2 id="Description">Description</h2><p>The traveler is run from a browser using flat files. By default it'll load <a href="/~dustin/traveler/demo.txt">demo.txt</a>, which includes examples of all available functionality.</p><p>You can move around from room to room, pick up objects, and interact with the NPCs and objects in the room or your inventory.</p><p>You can also create new rooms, objects, and NPCs directly within the traveler, allowing you to create a world while inhabiting it.</p><p>The only things you can't do from within the game is create actions or variables.</p><p>There is a very basic variable and action system which allows a more rich interaction with NPCs and objects.</p><p>The world, inventory, and current location are constantly saved to local storage, so when you come back the state persists.</p><p>You can export the current world to a txt file, and you can import from a text file (local or remote URL). World files do not include inventory or current location, those reset upon import.</p><p>A world can be auto imported from url by adding the <code>?load=URL</code> query parameter.</p><h2 id="Game commands">Game commands</h2><p>As a user of the game you can run the following commands:</p><ul><li><code>load (url)</code> - Load a world txt file from the provided URL. You can always reload the demo with "load demo.txt"</li><li><code>import</code> - Load a world txt from a local file</li><li><code>export (filename)</code> - Export the current world to a txt file</li><li><code>look</code> - View the room along with it's objects, NPCs, and exits</li><li><code>look (object)</code> - View the provided object and it's actions</li><li><code>look (npc)</code> - View the provided NPC and it's actions</li><li><code>go (direction)</code> - Go the provided direction (north,south,east,west)</li><li><code>teleport (x),(y)</code> - Go to the provided coordinates</li><li><code>where</code> - Displays the current room's name and coordinates</li><li><code>grab (object)</code> - Add the provided object to your inventory</li><li><code>drop (object)</code> - Drop the provided object in the current room</li><li><code>inventory</code> - List your current inventory</li><li><code>new</code> - Destroys the current world and creates a new, empty one</li><li><code>create room (x),(y)</code> - Create an empty room at the provided coordinates</li><li><code>create object (key)</code> - Create a new object with the provided key</li><li><code>create npc (key)</code> - Create a new NPC with the provided key</li><li><code>set name (name)</code> - Rename the current room</li><li><code>set description (desc)</code> - Describe the current room</li><li><code>rename (object) (name)</code> - Rename the provided object</li><li><code>rename (npc) (name)</code> - Rename the provided NPC</li><li><code>describe (object) (desc)</code> - Describe the provided object</li><li><code>describe (npc) (desc)</code> - Describe the provided NPC</li><li><code>move (x),(y)</code> - Move the current room to the provided coordinates</li><li><code>add object (key)</code> - Add the object with the provided key to the current room</li><li><code>add npc (key)</code> - Add the NPC with the provided key to the current room</li><li><code>remove object (key)</code> - Remove the object with the provided key from the current room</li><li><code>remove npc (key)</code> - Remove the NPC with the provided key from the current room</li><li><code>remove room</code> - Remove the current room</li><li><code>debug</code> - Prints debug information to the console</li></ul><h2 id="World creation">World creation</h2><p>Worlds are stored in a txt file. Each element (room, object, npc) are represented by multiple lines, and all are separated by an empty line. You can view an example with all available functionality at <a href="/~dustin/traveler/demo.txt">demo.txt</a>.</p><h3 id="Attributes">Attributes</h3><p>You can set the following attributes on an element, using a specific starting glyph for each:</p><pre>+ Name<br>& Description<br>@ (object key) - Room only<br># (npc key) - Room only<br>% (dir):(object key) - Room only, a lock with a required item for an exit (ex: % w:west-key)<br>> (dir):(x),(y) - Room only, overrides an exit with the specified coordinates (ex: > n:10,10)<br>! (action) - Object and NPC only, creates an action with the provided key. Action code can be seen below<br>$ (variable) = (value) - Object only, a variable for the object and it's value (ex: $ opened = false)<br></pre><h3 id="Action code">Action code</h3><p>When you set an action on an object or NPC, you can include additonal lines after it with action code that runs when the user calls the action (user example: open chest)</p><p>The following commands are available:</p><ul><li><code>ECHO (text)</code> - Prints out the provided text</li><li><code>GRAB (object)</code> - Adds the speicifed object to the user's inventory, even if it isn't in the room</li><li><code>TAKE (object)</code> - Removes the speicifed object from the user's inventory</li><li><code>SET $(variable) = (value)</code> - Sets the provided variable to the provided value (ex: SET $opened = true)</li><li><code>IF (condition)</code> - Starts an if block with the provided condition. Currently you can check if a variable is set to something (IF $opened = true) or if the inventory contains an item (IF INVENTORY=item1,item2)</li><li><code>ELSE</code> - Starts an else block for the current IF</li><li><code>ENDIF</code> - Ends the if/else block</li></ul><p>This is an example of a chest's open action. It gives the user items if it's been opened, and displays a message that it's empty when it's been opened already:</p><pre>@ chest<br>+ wooden chest<br>& A wooden chest in questionable condition<br>$ opened = false<br>! open<br>  IF    $opened = true<br>  ECHO  The chest is empty<br>  ELSE<br>  SET   $opened = true<br>  GRAB  sword<br>  GRAB  shield<br>  GRAB  west-key<br>  ENDIF<br></pre><p>Here is another example of a lamp the user can turn on and off. The description can include variables that will display the value as well.</p><pre>@ lamp<br>+ lamp<br>& An ordinary lamp with a switch. It is currently $power.<br>^ false<br>$ power = on<br>! switch<br>  IF    $power = on<br>  SET   $power = off<br>  ECHO  You turned off the lamp<br>  ELSE<br>  SET   $power = on<br>  ECHO  You turned on the lamp<br>  ENDIF<br></pre><h3 id="Rooms">Rooms</h3><p>Rooms are denoted by a <code>~</code> followed by coordinates.</p><p>Here is an example room with an item and a NPC. It also has a key required to go west and an override to 10,10 for the north:</p><p>You can mention objects in the description with a leading <code>@</code>, and NPCs with a leading <code>#</code>.</p><pre>+ Landing Room<br>& An ordinary room with a @lamp and a #ghost.<br>@ lamp<br># ghost<br>% w:west-key<br>> n:10,10<br></pre><h3 id="Objects">Objects</h3><p>Objects are denoted by a <code>@</code> followed by an object key</p><p>Here is an example with no actions or variables:</p><pre>@ nintendo<br>+ Nintendo<br>& An original Nintendo system hooked up to a CRT television.<br></pre><h3 id="NPCs">NPCs</h3><p>NPCs are denoted by a <code>#</code> followed by an NPC key</p><p>here is an example with a simple talk action:</p><pre># ghost<br>+ Ghost<br>& A spooky ghost<br>! talk<br>  ECHO OOooooooooOoOoOoooohhhhhhhhh...<br></pre><h2 id="Release notes">Release notes</h2><ul><li><code>v1.0.1</code> Added <strong>TAKE</strong> action command, fixed duplicate exit in <strong>look</strong>, clear world before import, added load URL from query param</li><li><code>v1.0.0</code> Initial release with base functionality</li></ul><blockquote class="thanks"> <span class="emoji">&#128075;</span> Hey! Thanks for reading! If you have any comments or questions about this post, or anything else, I'd love to chat! You can find the best way to contact me on my <a href="/~dustin/hello">hello page</a>.</blockquote>		</article>
		<footer>
			<p>
			<a href="https://webring.xxiivv.com/#random" target="_blank" class="webring">
				<img src="https://webring.xxiivv.com/icon.black.svg"/>
			</a>
			</p>
		</footer>
	</body>
</html>

